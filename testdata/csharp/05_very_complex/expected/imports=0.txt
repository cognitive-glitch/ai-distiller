<file path="source.cs">
#nullable enable

namespace Constructs.VeryComplex05;
public record VectorN(
    T[] Components,
    int Dim) {
    public T Dot(VectorN<T> other);
    public override string ToString();
}
public interface IAlgebraService {
    public VectorN<T> Add<T>(VectorN<T> a, VectorN<T> b) where T : INumber;
    public T Dot<T>(VectorN<T> a, VectorN<T> b) where T : INumber;
    public VectorN<T> Normalize<T>(VectorN<T> vector) where T : IFloatingPointIeee754;
}
public sealed class AlgebraService : IAlgebraService {
    public VectorN<T> Add<T>(VectorN<T> a, VectorN<T> b) where T : INumber;
}
public abstract record CalcCommand {
    public sealed record AddCommand(
        VectorN<double> A,
        VectorN<double> B) : CalcCommand {
    public sealed record DotCommand(
        VectorN<double> A,
        VectorN<double> B) : CalcCommand {
    public sealed record NormalizeCommand(VectorN<double> Vector) : CalcCommand {
    public sealed record UnknownCommand : CalcCommand {
    }
}
public static class CalcDispatcher {
    public static double Execute(cmd CalcCommand, svc IAlgebraService);
}
public class MathProcessor<T> where T : INumber, IMinMaxValue {
    public T ProcessValue(input T);
}
public static class Program {
    public static void Main();
}
</file>
