<file path="test-data/java/ModernJava.java">
package com.aidi.test.modern;

import java.util.stream.Stream;

// 1. A sealed interface to control implementations
sealed interface Shape permits Circle, Rectangle {
    double area();
}

// 2. A record implementing the sealed interface
record Circle(double radius) implements Shape {
    // Canonical constructor is implicit.
    // Custom compact constructor for validation:
    public Circle;

    @Override
    public double area();
}

// 3. A final class implementing the sealed interface
final class Rectangle implements Shape {
    private final double length;
    private final double width;

    public Rectangle(double length, double width);

    @Override
    public double area();
}

public class ModernJava {
    public static void main(String[] args);
}
</file>